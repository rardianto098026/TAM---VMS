@using System.Text.RegularExpressions;
@using System.Globalization;
<!DOCTYPE html>
<html lang="en">
<!-- begin::Head -->
<head>
    <!--begin::Base Path (base relative path for assets of this page) -->
    <meta charset="utf-8" />

    @{
        String controllerName = (String)ViewContext.RouteData.Values["Controller"];
        String pageTitle = Regex.Replace(controllerName, "[a-z][A-Z]", m => m.Value[0] + " " + char.ToLower(m.Value[1]));
        TextInfo textInfo = new CultureInfo("en-US", false).TextInfo;
        String pageTitleWithTitleCase = textInfo.ToTitleCase(pageTitle);
    }
    <title>@pageTitleWithTitleCase</title>
    @*<meta name="description" content="VMS Monitoring">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">*@

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link rel="shortcut icon" href="@Url.Content("~/favicon.ico")" />

    <!--begin:: Global Mandatory Vendors -->
    @*<link href="~/vendors/general/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" type="text/css" />*@
    <!--end:: Global Mandatory Vendors -->
    <!--begin:: Global Optional Vendors -->
    @*<link href="~/vendors/general/tether/dist/css/tether.css" rel="stylesheet" type="text/css" />*@
    <link href="~/vendors/general/bootstrap-select/dist/css/bootstrap-select.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    <link href="~/vendors/general/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    <link href="~/vendors/general/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    <link href="~/vendors/general/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    @*<link href="~/vendors/general/select2/dist/css/select2.css" rel="stylesheet" type="text/css" />*@
    @*<link href="~/vendors/general/animate.css/animate.css" rel="stylesheet" type="text/css" />*@
    @*<link href="~/vendors/general/toastr/build/toastr.css" rel="stylesheet" type="text/css" />*@
    <link href="~/vendors/general/sweetalert2/dist/sweetalert2.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    @*<link href="~/vendors/general/socicon/css/socicon.css" rel="stylesheet" type="text/css" />*@
    <link href="~/vendors/general/fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    <link href="~/vendors/custom/vendors/line-awesome/css/line-awesome.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    @*<link href="~/vendors/custom/vendors/flaticon/flaticon.css" rel="stylesheet" type="text/css" />*@
    @*<link href="~/vendors/custom/vendors/flaticon2/flaticon.css" rel="stylesheet" type="text/css" />*@
    @*<link href="~/vendors/general/nouislider/distribute/nouislider.css" rel="stylesheet" type="text/css" />*@
    <link href="~/vendors/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    <link href="~/css/custom.css" rel="stylesheet" type="text/css" asp-append-version="true" />

    <!--end:: Global Optional Vendors -->
    <!--begin:: Global Optional Vendors -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Poppins" />
    @*<link href="~/css/style.bundle.css" rel="stylesheet" type="text/css"/>*@
    @*<link href="~/css/site.css" rel="stylesheet" type="text/css"/>*@
    <!--end:: Global Optional Vendors -->
    <link href="~/Content/GlobalStyle.css" rel="stylesheet" type="text/css" asp-append-version="true" />
    @*@Html.Partial("Styles/_Common")*@
    <partial name="Styles/_Common" />
    @RenderSection("styles", false)

    <!-- JQUERY & KENDO CORE SCRIPT SECTION -->
    <script src="~/Content/theme/Metronic/global/plugins/jquery.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/jquery-migrate-1.4.1.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/Kendo/kendo.custom.min.js" asp-append-version="true"></script>
    <script src="~/js/jquery.number.js" asp-append-version="true"></script>
    <script src="~/vendors/kendo.all.min.js" asp-append-version="true"></script>
    @*<script src="~/lib/kendo/js/kendo.upload.min.js" asp-append-version="true"></script>*@
    <script src="~/vendors/Kendo/kendo.upload.min.js" asp-append-version="true"></script>
    @*<script src="~/lib/kendo/js/kendo.calendar.min.js"></script>*@
    @*<script src="~/lib/kendo/js/kendo.timezones.min.js"></script>*@

</head>
<!-- end::Head -->
<!-- begin::Body -->
<body class="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo page-md" id="wrapToggle">
    <!-- CONTENT SECTION -->
    <div class="page-container" style="margin:0px !important;">
        <div class="page-content-wrapper">
            @RenderBody()
        </div>
    </div>
    <!-- PAGE FOOTER SECTION -->
    <partial name="_Footer" />

    <script src="~/vendors/general/popper.js/dist/umd/popper.js" type="text/javascript" asp-append-version="true"></script>
    @*<script src="~/vendors/general/bootstrap/dist/js/bootstrap.min.js" type="text/javascript" asp-append-version="true"></script>*@
    <script src="~/vendors/general/js-cookie/src/js.cookie.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/moment/min/moment.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/tooltip.js/dist/umd/tooltip.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/perfect-scrollbar/dist/perfect-scrollbar.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/sticky-js/dist/sticky.min.js" type="text/javascript" asp-append-version="true"></script>
    <!--end:: Global Mandatory Vendors -->
    <!--begin:: Global Optional Vendors -->

    <script src="~/vendors/general/jquery-form/dist/jquery.form.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/block-ui/jquery.blockUI.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/js/vendors/bootstrap-datepicker.init.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/js/vendors/bootstrap-timepicker.init.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-select/dist/js/bootstrap-select.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/bootstrap-switch/dist/js/bootstrap-switch.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/js/vendors/bootstrap-switch.init.js" type="text/javascript" asp-append-version="true"></script>
    @*<script src="~/vendors/general/select2/dist/js/select2.full.js" type="text/javascript" asp-append-version="true"></script>*@
    <script src="~/vendors/general/jquery-validation/dist/jquery.validate.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/jquery-validation/dist/additional-methods.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/js/vendors/jquery-validation.init.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/toastr/build/toastr.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/vendors/bootstrap-session-timeout/dist/bootstrap-session-timeout.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/vendors/jquery-idletimer/idle-timer.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/es6-promise-polyfill/promise.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/sweetalert2/dist/sweetalert2.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/js/vendors/sweetalert2.init.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/nouislider/distribute/nouislider.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/general/wnumb/wNumb.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/vendors/custom/fullcalendar/fullcalendar.bundle.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/jquery.showmore.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/jquery-dateformat.min.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/jquery.mask.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/inputmask.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/inputmask.extensions.js" type="text/javascript" asp-append-version="true"></script>
    <script src="~/js/webcam.js" type="text/javascript" asp-append-version="true"></script>
    <!--end:: Global Optional Vendors -->

    <script src="~/js/helper.js" type="text/javascript" asp-append-version="true"></script>
    @*<script src="~/js/scripts.bundle.js" type="text/javascript" asp-append-version="true"></script>*@
    @*<script src="~/js/mustache.min.js" type="text/javascript" asp-append-version="true"></script>*@

    <!--end::Global Theme Bundle -->
    <!-- MODAL SECTION -->
    @RenderSection("modals", false)

    <div class="ajax-loading"></div>

    @RenderSection("kendoscripts", false)
    @*@Html.Partial("Scripts/_Common")*@
    <partial name="Scripts/_Common" />
    @RenderSection("scripts", required: false)

    <script>
        jQuery["postv2"] = function (url, data, callback) {
            // shift arguments if data argument was omitted
            if (jQuery.isFunction(data)) {
                callback = data;
                data = undefined;
            }

            var contentType = "application/x-www-form-urlencoded; charset=UTF-8";
            if (isJson(data)) {
                contentType = "application/json; charset=utf-8";
            }

            var data = jQuery.ajax({
                url: url,
                type: "POST",
                contentType: contentType,
                data: data,
                success: callback
            });
            return data;
        };

        function isJson(str) {
            try {
                JSON.parse(str);
            } catch (e) {
                return false;
            }
            return true;
        }
    </script>
    <script type="text/javascript">
        $(function () {
            //console.log("toggle-status ->", localStorage.getItem("toggle"))
            if (localStorage.getItem("toggle") == null) {
                localStorage.setItem("toggle", "open")
            }

            if (localStorage.getItem("toggle") == "close") {
                $("#wrapToggle").addClass("page-sidebar-closed");
            }

            $('.menu-toggler').on('click', function () {
                if ($("#wrapToggle").hasClass("page-sidebar-closed")) {
                    localStorage.setItem("toggle", "open")
                }
                else {
                    localStorage.setItem("toggle", "close")
                }
            })

            $(document).ajaxStart(function () {
                $("body").addClass("loading");
            }).ajaxStop(function () {
                $("body").removeClass("loading");
            });
        });

        //To get QueryString
        function getParameterByName(name, url = window.location.href) {
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
    </script>

    <!-- begin::Scrolltop -->
    <!-- end::Scrolltop -->
    @*<script>
            var KTAppOptions = { "colors": { "state": { "brand": "#3d94fb", "light": "#ffffff", "dark": "#282a3c", "primary": "#5867dd", "success": "#34bfa3", "info": "#3d94fb", "warning": "#ffb822", "danger": "#fd27eb" }, "base": { "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"], "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"] } } };
        </script>*@
</body>
<!-- end::Body -->
</html>
